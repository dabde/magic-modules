# Copyright 2017 Google Inc.
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

--- !ruby/object:Api::Product
name: Google Cloud BigQuery
prefix: gbigquery
versions:
  - !ruby/object:Api::Product::Version
    name: v2
    base_url: https://www.googleapis.com/bigquery/v2/
    default: 
scopes:
  - https://www.googleapis.com/auth/bigquery
objects:
  - !ruby/object:Api::Resource
    name: 'Dataset'
    kind: 'bigquery#dataset'
    base_url: projects/{{project}}/datasets
    description: >
      Datasets allow you to organize and control access to your tables.
    properties:
      - !ruby/object:Api::Type::Array
        name: 'access'
        description: 'Access controls on the bucket.'
        item_type: !ruby/object:Api::Type::NestedObject
          properties:
            - !ruby/object:Api::Type::String
              name: 'domain'
              description: >
                A domain to grant access to. Any users signed in with the
                domain specified will be granted the specified access
            - !ruby/object:Api::Type::String
              name: 'groupByEmail'
              description: An email address of a Google Group to grant access to
            - !ruby/object:Api::Type::Enum
              name: 'role'
              description: >
                Describes the rights granted to the user specified by the other
                member of the access object
              values:
                - :READER
                - :WRITER
                - :OWNER
            - !ruby/object:Api::Type::String
              name: 'specialGroup'
              description: A special group to grant access to.
            - !ruby/object:Api::Type::String
              name: 'userByEmail'
              description: >
                An email address of a user to grant access to. For example:
                fred@example.com
            - !ruby/object:Api::Type::NestedObject
              name: 'view'
              description: >
                A view from a different dataset to grant access to. Queries
                executed against that view will have read access to tables in
                this dataset. The role field is not required when this field is
                set. If that view is updated by any user, access to the view
                needs to be granted again via an update operation.
              properties:
                - !ruby/object:Api::Type::String
                  name: 'datasetId'
                  description: The ID of the dataset containing this table.
                  required: true
                - !ruby/object:Api::Type::String
                  name: 'projectId'
                  description: The ID of the project containing this table.
                  required: true
                - !ruby/object:Api::Type::String
                  name: 'tableId'
                  description: >
                    The ID of the table. The ID must contain only letters (a-z,
                    A-Z), numbers (0-9), or underscores (_). The maximum length
                    is 1,024 characters.
                  required: true
      - !ruby/object:Api::Type::Integer
        name: 'creationTime'
        output: true
        description: >
          The time when this dataset was created, in milliseconds since the
          epoch.
      - !ruby/object:Api::Type::NestedObject
        name: 'datasetReference'
        description: 'A reference that identifies the dataset.'
        required: true
        properties:
          - !ruby/object:Api::Type::String
            name: 'datasetId'
            description: >
              A unique ID for this dataset, without the project name. The ID
              must contain only letters (a-z, A-Z), numbers (0-9), or
              underscores (_). The maximum length is 1,024 characters.
            required: true
          - !ruby/object:Api::Type::String
            name: 'projectId'
            description: The ID of the project containing this dataset.
      - !ruby/object:Api::Type::Integer
        name: 'defaultTableExpirationMs'
        description: >
          The default lifetime of all tables in the dataset, in milliseconds
      - !ruby/object:Api::Type::String
        name: 'description'
        description: A user-friendly description of the dataset
      - !ruby/object:Api::Type::String
        name: 'friendlyName'
        description: A descriptive name for the dataset
      - !ruby/object:Api::Type::String
        name: 'id'
        output: true
        description: >
          The fully-qualified unique name of the dataset in the format
          projectId:datasetId. The dataset name without the project name is
          given in the datasetId field
      - !ruby/object:Api::Type::NameValues
        name: 'labels'
        description: >
          The labels associated with this dataset. You can use these to
          organize and group your datasets
        key_type: Api::Type::String
        value_type: Api::Type::String
      - !ruby/object:Api::Type::Integer
        name: 'lastModifiedTime'
        description: >
          The date when this dataset or any of its tables was last modified, in
          milliseconds since the epoch.
        output: true
      - !ruby/object:Api::Type::String
        name: 'location'
        description: >
          The geographic location where the dataset should reside. Possible
          values include EU and US. The default value is US.
        default_value: US


