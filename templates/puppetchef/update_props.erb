<% update_props = properties_by_custom_update(object.all_user_properties) -%>
<% update_props.each do |key, props| -%>
def <%= props[0].name.downcase -%>_update(data)
  Google::<%= product_ns -%>::Network::<%= key[:update_verb].capitalize -%>.new(
<%= indent(build_url([object.__product.base_url, key[:update_url]]), 4) -%>,
    fetch_auth(@resource),
    'application/json',
    {
<%
  update_prop_statements = props.map do |prop|
    if prop.is_a? Api::Type::FetchedExternal
      "#{prop.api_name}: @fetched['#{prop.api_name}']"
    else
      "#{prop.api_name}: @resource[:#{prop.out_name}]"
    end
  end
-%>
<%= lines(indent_list(update_prop_statements, 6)) -%>
    }.to_json
  ).send
end

<% end # update_props.each -%>
