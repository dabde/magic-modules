- name: verify that <%= Google::StringUtils.underscore(object.name) -%> was <%= lines(verbs[state.to_sym]) -%>
  <%= module_name -%>:
      filters:
         - name = "{{ resource_name }}"
<% @parameters.each do |k, v| -%>
      <%= k -%>: <%= lines(v) -%>
<% end -%>
      project: "{{ gcp_project }}"
      auth_kind: "{{ gcp_cred_kind }}"
      service_account_file: "{{ gcp_cred_file }}"
  register: results
- name: verify that command succeeded
  assert:
    that:
      - results['items'] | length == <%= state == 'present' ? 1 : 0 %>
