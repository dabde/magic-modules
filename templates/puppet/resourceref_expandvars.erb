<%# Requires: none -%>
<%
  test_resourcerefs_for_properties(object.all_user_properties,
                                   object).each do |ref|
-%>
<%
  prop_ref = ref.resource_refs.first.resource_ref
  ref_underscore_name = Google::StringUtils.underscore(ref.resource_refs.first.resource)
-%>
def expand_variables_<%= ref_underscore_name -%>(template, data, ext_dat = {})
  Puppet::Type.type(:<%= prop_ref.out_name -%>).provider(:google)
              .expand_variables(template, data, ext_dat)
end

<% end -%>
